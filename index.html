<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—ã–∂–∏–≤–∞–Ω–∏–µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }
        
        body {
            background-color: #0a0a0a;
            color: #e0e0e0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            line-height: 1.5;
        }
        
        .game-container {
            width: 100%;
            max-width: 1000px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            border-bottom: 1px solid #333;
            margin-bottom: 10px;
            position: relative;
        }
        
        h1 {
            font-size: 2.2rem;
            font-weight: 300;
            letter-spacing: 2px;
            color: #fff;
            margin-bottom: 5px;
        }
        
        .subtitle {
            font-size: 1rem;
            color: #aaa;
            font-weight: 300;
        }
        
        .rescue-counter {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background-color: #1a1a1a;
            border: 1px solid #333;
            padding: 8px 15px;
            border-radius: 3px;
            font-size: 0.9rem;
        }
        
        .rescue-days {
            color: #4caf50;
            font-weight: 500;
        }
        
        .game-layout {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 20px;
        }
        
        .main-panel {
            background-color: #111;
            border: 1px solid #333;
            border-radius: 2px;
            padding: 20px;
            min-height: 500px;
            display: flex;
            flex-direction: column;
        }
        
        .location-description {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #333;
        }
        
        .location-description h2 {
            font-size: 1.4rem;
            font-weight: 400;
            margin-bottom: 10px;
            color: #fff;
        }
        
        .location-description p {
            color: #ccc;
            line-height: 1.6;
        }
        
        .actions {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 25px;
        }
        
        .action-btn {
            background-color: #1a1a1a;
            border: 1px solid #333;
            color: #e0e0e0;
            padding: 12px 15px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95rem;
            border-radius: 2px;
        }
        
        .action-btn:hover {
            background-color: #222;
            border-color: #555;
        }
        
        .action-btn:active {
            background-color: #151515;
        }
        
        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .action-btn:disabled:hover {
            background-color: #1a1a1a;
            border-color: #333;
        }
        
        .consume-section {
            margin-top: auto;
            padding-top: 20px;
            border-top: 1px solid #333;
        }
        
        .consume-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .consume-btn {
            background-color: #2a2a2a;
            border: 1px solid #444;
            color: #e0e0e0;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
            border-radius: 2px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .consume-btn:hover {
            background-color: #333;
        }
        
        .consume-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .consume-btn:disabled:hover {
            background-color: #2a2a2a;
        }
        
        .events-log {
            background-color: #0d0d0d;
            border: 1px solid #333;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            font-size: 0.9rem;
            margin-top: 20px;
        }
        
        .event {
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid #222;
        }
        
        .event:last-child {
            margin-bottom: 0;
            border-bottom: none;
        }
        
        .event-time {
            color: #666;
            font-size: 0.8rem;
            margin-right: 8px;
        }
        
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .stats-panel, .inventory-panel, .conditions-panel {
            background-color: #111;
            border: 1px solid #333;
            border-radius: 2px;
            padding: 20px;
        }
        
        .panel-title {
            font-size: 1.1rem;
            font-weight: 400;
            margin-bottom: 15px;
            color: #fff;
            padding-bottom: 8px;
            border-bottom: 1px solid #333;
        }
        
        .stat {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        
        .stat-name {
            color: #ccc;
        }
        
        .stat-value {
            color: #fff;
            font-weight: 500;
        }
        
        .inventory-items {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .inventory-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 10px;
            background-color: #1a1a1a;
            border: 1px solid #333;
            border-radius: 2px;
        }
        
        .item-name {
            color: #ccc;
        }
        
        .item-count {
            color: #fff;
            font-weight: 500;
        }
        
        .condition {
            margin-bottom: 15px;
        }
        
        .condition-name {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            color: #ccc;
        }
        
        .condition-bar {
            height: 6px;
            background-color: #333;
            position: relative;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .condition-fill {
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            transition: width 0.3s ease;
        }
        
        .health .condition-fill {
            background-color: #d32f2f;
        }
        
        .hunger .condition-fill {
            background-color: #f57c00;
        }
        
        .thirst .condition-fill {
            background-color: #1976d2;
        }
        
        .energy .condition-fill {
            background-color: #388e3c;
        }
        
        .temperature .condition-fill {
            background-color: #7b1fa2;
        }
        
        .game-over {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            display: none;
        }
        
        .game-over-content {
            background-color: #111;
            border: 1px solid #333;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            text-align: center;
        }
        
        .game-over h2 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #fff;
            font-weight: 400;
        }
        
        .game-over p {
            margin-bottom: 25px;
            color: #ccc;
            line-height: 1.6;
        }
        
        .restart-btn {
            background-color: #1a1a1a;
            border: 1px solid #333;
            color: #e0e0e0;
            padding: 12px 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
            border-radius: 2px;
        }
        
        .restart-btn:hover {
            background-color: #222;
            border-color: #555;
        }
        
        .rescue-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            display: none;
        }
        
        .rescue-content {
            background-color: #111;
            border: 1px solid #333;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            text-align: center;
        }
        
        .rescue-screen h2 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #4caf50;
            font-weight: 400;
        }
        
        .rescue-screen p {
            margin-bottom: 25px;
            color: #ccc;
            line-height: 1.6;
        }
        
        @media (max-width: 768px) {
            .game-layout {
                grid-template-columns: 1fr;
            }
            
            .actions {
                grid-template-columns: 1fr;
            }
            
            .rescue-counter {
                position: static;
                transform: none;
                margin-top: 10px;
                display: inline-block;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <header>
            <h1>–í–´–ñ–ò–í–ê–ù–ò–ï</h1>
            <p class="subtitle">–ë–æ—Ä–∏—Ç–µ—Å—å —Å –≥–æ–ª–æ–¥–æ–º, –∂–∞–∂–¥–æ–π –∏ —Å—Ç–∏—Ö–∏–µ–π, —á—Ç–æ–±—ã –≤—ã–∂–∏—Ç—å</p>
            <div class="rescue-counter">–°–ø–∞—Å–µ–Ω–∏–µ —á–µ—Ä–µ–∑: <span class="rescue-days" id="rescue-days">100</span> –¥–Ω–µ–π</div>
        </header>
        
        <div class="game-layout">
            <div class="main-panel">
                <div class="location-description">
                    <h2 id="location-name">–õ–ï–°</h2>
                    <p id="location-description">–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –≥—É—Å—Ç–æ–º –ª–µ—Å—É –ø–æ—Å–ª–µ –∫—Ä—É—à–µ–Ω–∏—è —Å–∞–º–æ–ª–µ—Ç–∞. –í–æ–∫—Ä—É–≥ –≤–∞—Å –¥–µ—Ä–µ–≤—å—è, –∫—É—Å—Ç—ã –∏ —Å–ª–µ–¥—ã –¥–∏–∫–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö. –í–æ–∑–¥—É—Ö –ø—Ä–æ—Ö–ª–∞–¥–µ–Ω –∏ –≤–ª–∞–∂–µ–Ω. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ - –ø—Ä–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è 100 –¥–Ω–µ–π –¥–æ –ø—Ä–∏–±—ã—Ç–∏—è —Å–ø–∞—Å–∞—Ç–µ–ª–µ–π.</p>
                </div>
                
                <div class="actions">
                    <button class="action-btn" id="gather-wood">–°–æ–±—Ä–∞—Ç—å –¥—Ä–æ–≤–∞</button>
                    <button class="action-btn" id="hunt">–û—Ö–æ—Ç–∏—Ç—å—Å—è</button>
                    <button class="action-btn" id="explore">–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –º–µ—Å—Ç–Ω–æ—Å—Ç—å</button>
                    <button class="action-btn" id="rest">–û—Ç–¥—ã—Ö–∞—Ç—å</button>
                    <button class="action-btn" id="build-shelter">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å —É–∫—Ä—ã—Ç–∏–µ</button>
                    <button class="action-btn" id="make-fire">–†–∞–∑–∂–µ—á—å –∫–æ—Å—Ç–µ—Ä</button>
                    <button class="action-btn" id="find-water">–ù–∞–π—Ç–∏ –≤–æ–¥—É</button>
                    <button class="action-btn" id="craft-tools">–°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</button>
                    <button class="action-btn" id="fish">–†—ã–±–∞—á–∏—Ç—å</button>
                    <button class="action-btn" id="forage">–°–æ–±–∏—Ä–∞—Ç—å —è–≥–æ–¥—ã –∏ –≥—Ä–∏–±—ã</button>
                    <button class="action-btn" id="trap">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–≤—É—à–∫–∏</button>
                    <button class="action-btn" id="repair">–†–µ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —É–∫—Ä—ã—Ç–∏–µ</button>
                </div>
                
                <div class="consume-section">
                    <h3 class="panel-title">–ü–û–¢–†–ï–ë–õ–ï–ù–ò–ï</h3>
                    <div class="consume-buttons">
                        <button class="consume-btn" id="eat-food">
                            <span>üçñ</span> –ü–æ–µ—Å—Ç—å (1 –µ–¥–∞)
                        </button>
                        <button class="consume-btn" id="drink-water">
                            <span>üíß</span> –ü–æ–ø–∏—Ç—å (1 –≤–æ–¥–∞)
                        </button>
                        <button class="consume-btn" id="use-medicine">
                            <span>üíä</span> –õ–µ—á–∏—Ç—å—Å—è (1 –ª–µ–∫–∞—Ä—Å—Ç–≤–æ)
                        </button>
                        <button class="consume-btn" id="add-firewood">
                            <span>üî•</span> –î–æ–±–∞–≤–∏—Ç—å –¥—Ä–æ–≤ –≤ –∫–æ—Å—Ç–µ—Ä (2 –¥—Ä–æ–≤–∞)
                        </button>
                    </div>
                </div>
                
                <h3 class="panel-title" style="margin-top: 20px;">–ñ–£–†–ù–ê–õ –°–û–ë–´–¢–ò–ô</h3>
                <div class="events-log" id="events-log">
                    <div class="event">
                        <span class="event-time">–î–µ–Ω—å 1, 08:00</span>
                        <span>–í—ã –ø–µ—Ä–µ–∂–∏–ª–∏ –∫—Ä—É—à–µ–Ω–∏–µ —Å–∞–º–æ–ª–µ—Ç–∞ –≤ –Ω–µ–∑–Ω–∞–∫–æ–º–æ–º –ª–µ—Å—É. –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –≤—ã–∂–∏–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è 100 –¥–Ω–µ–π –¥–æ —Å–ø–∞—Å–∞—Ç–µ–ª–µ–π.</span>
                    </div>
                </div>
            </div>
            
            <div class="sidebar">
                <div class="stats-panel">
                    <h3 class="panel-title">–°–¢–ê–¢–ò–°–¢–ò–ö–ê</h3>
                    <div class="stat">
                        <span class="stat-name">–î–µ–Ω—å:</span>
                        <span class="stat-value" id="day-count">1</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">–í—Ä–µ–º—è:</span>
                        <span class="stat-value" id="time">08:00</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:</span>
                        <span class="stat-value" id="temperature">15¬∞C</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">–ü–æ–≥–æ–¥–∞:</span>
                        <span class="stat-value" id="weather">–Ø—Å–Ω–æ</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">–°–æ—Å—Ç–æ—è–Ω–∏–µ —É–∫—Ä—ã—Ç–∏—è:</span>
                        <span class="stat-value" id="shelter-condition">–ù–µ—Ç</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">–°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Å—Ç—Ä–∞:</span>
                        <span class="stat-value" id="fire-condition">–ù–µ—Ç</span>
                    </div>
                </div>
                
                <div class="conditions-panel">
                    <h3 class="panel-title">–°–û–°–¢–û–Ø–ù–ò–ï</h3>
                    <div class="condition health">
                        <div class="condition-name">
                            <span>–ó–¥–æ—Ä–æ–≤—å–µ</span>
                            <span id="health-value">100%</span>
                        </div>
                        <div class="condition-bar">
                            <div class="condition-fill" id="health-bar" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="condition hunger">
                        <div class="condition-name">
                            <span>–°—ã—Ç–æ—Å—Ç—å</span>
                            <span id="hunger-value">100%</span>
                        </div>
                        <div class="condition-bar">
                            <div class="condition-fill" id="hunger-bar" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="condition thirst">
                        <div class="condition-name">
                            <span>–ñ–∞–∂–¥–∞</span>
                            <span id="thirst-value">100%</span>
                        </div>
                        <div class="condition-bar">
                            <div class="condition-fill" id="thirst-bar" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="condition energy">
                        <div class="condition-name">
                            <span>–≠–Ω–µ—Ä–≥–∏—è</span>
                            <span id="energy-value">100%</span>
                        </div>
                        <div class="condition-bar">
                            <div class="condition-fill" id="energy-bar" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="condition temperature">
                        <div class="condition-name">
                            <span>–¢–µ–ø–ª–æ</span>
                            <span id="warmth-value">100%</span>
                        </div>
                        <div class="condition-bar">
                            <div class="condition-fill" id="warmth-bar" style="width: 100%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="inventory-panel">
                    <h3 class="panel-title">–ò–ù–í–ï–ù–¢–ê–†–¨</h3>
                    <div class="inventory-items">
                        <div class="inventory-item">
                            <span class="item-name">–î—Ä–æ–≤–∞</span>
                            <span class="item-count" id="wood-count">5</span>
                        </div>
                        <div class="inventory-item">
                            <span class="item-name">–ï–¥–∞</span>
                            <span class="item-count" id="food-count">3</span>
                        </div>
                        <div class="inventory-item">
                            <span class="item-name">–í–æ–¥–∞</span>
                            <span class="item-count" id="water-count">2</span>
                        </div>
                        <div class="inventory-item">
                            <span class="item-name">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</span>
                            <span class="item-count" id="tools-count">0</span>
                        </div>
                        <div class="inventory-item">
                            <span class="item-name">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</span>
                            <span class="item-count" id="materials-count">2</span>
                        </div>
                        <div class="inventory-item">
                            <span class="item-name">–õ–µ–∫–∞—Ä—Å—Ç–≤–∞</span>
                            <span class="item-count" id="medicine-count">0</span>
                        </div>
                        <div class="inventory-item">
                            <span class="item-name">–†—ã–±–∞</span>
                            <span class="item-count" id="fish-count">0</span>
                        </div>
                        <div class="inventory-item">
                            <span class="item-name">–õ–æ–≤—É—à–∫–∏</span>
                            <span class="item-count" id="trap-count">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="game-over" id="game-over">
        <div class="game-over-content">
            <h2>–í–´–ñ–ò–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û</h2>
            <p id="game-over-reason">–í—ã –Ω–µ —Å–º–æ–≥–ª–∏ –≤—ã–∂–∏—Ç—å –≤ —Å—É—Ä–æ–≤—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö.</p>
            <p>–í—ã –ø—Ä–æ–¥–µ—Ä–∂–∞–ª–∏—Å—å <span id="survival-days">1</span> –¥–Ω–µ–π.</p>
            <button class="restart-btn" id="restart-btn">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
        </div>
    </div>
    
    <div class="rescue-screen" id="rescue-screen">
        <div class="rescue-content">
            <h2>–í–´ –°–ü–ê–°–ï–ù–´!</h2>
            <p>–ü–æ—Å–ª–µ 100 –¥–Ω–µ–π –≤—ã–∂–∏–≤–∞–Ω–∏—è –≤ –¥–∏–∫–æ–π –ø—Ä–∏—Ä–æ–¥–µ, —Å–ø–∞—Å–∞—Ç–µ–ª–∏ –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –Ω–∞—à–ª–∏ –≤–∞—Å!</p>
            <p>–í—ã —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∂–∏–ª–∏ –≤—Å–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –∏ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ª–µ—Å–∞.</p>
            <p>–í–∞—à–µ –º—É–∂–µ—Å—Ç–≤–æ –∏ —É–º–µ–Ω–∏–µ –≤—ã–∂–∏–≤–∞—Ç—å –≤–ø–µ—á–∞—Ç–ª–∏–ª–∏ —Å–ø–∞—Å–∞—Ç–µ–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É.</p>
            <button class="restart-btn" id="new-game-btn">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
        </div>
    </div>

    <script>
        // –ò–≥—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        const gameState = {
            day: 1,
            time: 480, // –≤ –º–∏–Ω—É—Ç–∞—Ö (8:00)
            running: true,
            daysToRescue: 100,
            
            // –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤—ã–∂–∏–≤–∞–Ω–∏—è
            health: 100,
            hunger: 100,
            thirst: 100,
            energy: 100,
            warmth: 100,
            
            // –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
            inventory: {
                wood: 5,
                food: 3,
                water: 2,
                tools: 0,
                materials: 2,
                medicine: 0,
                fish: 0,
                traps: 0
            },
            
            // –ò–≥—Ä–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã
            shelter: false,
            shelterHealth: 0,
            fire: false,
            fireDuration: 0,
            
            // –ü–æ–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
            temperature: 15,
            weather: 'clear',
            
            // –°–æ–±—ã—Ç–∏—è
            specialEvents: [
                "–ù–∞—à–ª–∏ –∑–∞–±—Ä–æ—à–µ–Ω–Ω—ã–π –ª–∞–≥–µ—Ä—å —Å –ø—Ä–∏–ø–∞—Å–∞–º–∏",
                "–ó–∞–º–µ—Ç–∏–ª–∏ —Å–ª–µ–¥—ã –º–µ–¥–≤–µ–¥—è —Ä—è–¥–æ–º —Å —É–∫—Ä—ã—Ç–∏–µ–º",
                "–ù–∞—Ç–∫–Ω—É–ª–∏—Å—å –Ω–∞ —è–≥–æ–¥–Ω—É—é –ø–æ–ª—è–Ω—É",
                "–û–±–Ω–∞—Ä—É–∂–∏–ª–∏ —á–∏—Å—Ç—ã–π —Ä–æ–¥–Ω–∏–∫",
                "–ù–∞—à–ª–∏ –æ–±–ª–æ–º–∫–∏ —Å–∞–º–æ–ª–µ—Ç–∞ —Å –ø–æ–ª–µ–∑–Ω—ã–º–∏ –≤–µ—â–∞–º–∏",
                "–ó–∞–º–µ—Ç–∏–ª–∏ –¥—ã–º –≤–¥–∞–ª–∏ - –≤–æ–∑–º–æ–∂–Ω–æ, –¥—Ä—É–≥–∏–µ –≤—ã–∂–∏–≤—à–∏–µ",
                "–ù–∞—à–ª–∏ —Å—Ç–∞—Ä—É—é –∫–∞—Ä—Ç—É –º–µ—Å—Ç–Ω–æ—Å—Ç–∏",
                "–û–±–Ω–∞—Ä—É–∂–∏–ª–∏ –ø–µ—â–µ—Ä—É, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —É–∫—Ä—ã—Ç–∏–µ–º",
                "–ù–∞—Ç–∫–Ω—É–ª–∏—Å—å –Ω–∞ –∑–∞–±—Ä–æ—à–µ–Ω–Ω—É—é —Ö–∏–∂–∏–Ω—É –ª–µ—Å–Ω–∏–∫–∞",
                "–ó–∞–º–µ—Ç–∏–ª–∏ —Å—Ç–∞—é –≤–æ–ª–∫–æ–≤ –≤–¥–∞–ª–µ–∫–µ"
            ]
        };

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const dayCountElement = document.getElementById('day-count');
        const timeElement = document.getElementById('time');
        const temperatureElement = document.getElementById('temperature');
        const weatherElement = document.getElementById('weather');
        const rescueDaysElement = document.getElementById('rescue-days');
        const shelterConditionElement = document.getElementById('shelter-condition');
        const fireConditionElement = document.getElementById('fire-condition');
        
        const healthValueElement = document.getElementById('health-value');
        const healthBarElement = document.getElementById('health-bar');
        const hungerValueElement = document.getElementById('hunger-value');
        const hungerBarElement = document.getElementById('hunger-bar');
        const thirstValueElement = document.getElementById('thirst-value');
        const thirstBarElement = document.getElementById('thirst-bar');
        const energyValueElement = document.getElementById('energy-value');
        const energyBarElement = document.getElementById('energy-bar');
        const warmthValueElement = document.getElementById('warmth-value');
        const warmthBarElement = document.getElementById('warmth-bar');
        
        const woodCountElement = document.getElementById('wood-count');
        const foodCountElement = document.getElementById('food-count');
        const waterCountElement = document.getElementById('water-count');
        const toolsCountElement = document.getElementById('tools-count');
        const materialsCountElement = document.getElementById('materials-count');
        const medicineCountElement = document.getElementById('medicine-count');
        const fishCountElement = document.getElementById('fish-count');
        const trapCountElement = document.getElementById('trap-count');
        
        const eventsLogElement = document.getElementById('events-log');
        const gameOverElement = document.getElementById('game-over');
        const gameOverReasonElement = document.getElementById('game-over-reason');
        const survivalDaysElement = document.getElementById('survival-days');
        const rescueScreenElement = document.getElementById('rescue-screen');
        
        const locationNameElement = document.getElementById('location-name');
        const locationDescriptionElement = document.getElementById('location-description');
        
        // –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
        const gatherWoodBtn = document.getElementById('gather-wood');
        const huntBtn = document.getElementById('hunt');
        const exploreBtn = document.getElementById('explore');
        const restBtn = document.getElementById('rest');
        const buildShelterBtn = document.getElementById('build-shelter');
        const makeFireBtn = document.getElementById('make-fire');
        const findWaterBtn = document.getElementById('find-water');
        const craftToolsBtn = document.getElementById('craft-tools');
        const fishBtn = document.getElementById('fish');
        const forageBtn = document.getElementById('forage');
        const trapBtn = document.getElementById('trap');
        const repairBtn = document.getElementById('repair');
        const restartBtn = document.getElementById('restart-btn');
        const newGameBtn = document.getElementById('new-game-btn');
        
        // –ö–Ω–æ–ø–∫–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
        const eatFoodBtn = document.getElementById('eat-food');
        const drinkWaterBtn = document.getElementById('drink-water');
        const useMedicineBtn = document.getElementById('use-medicine');
        const addFirewoodBtn = document.getElementById('add-firewood');

        // –§—É–Ω–∫—Ü–∏–∏ –∏–≥—Ä—ã
        function updateUI() {
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            dayCountElement.textContent = gameState.day;
            timeElement.textContent = formatTime(gameState.time);
            temperatureElement.textContent = `${gameState.temperature}¬∞C`;
            weatherElement.textContent = getWeatherText(gameState.weather);
            rescueDaysElement.textContent = gameState.daysToRescue;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
            shelterConditionElement.textContent = gameState.shelter ? 
                `${Math.round(gameState.shelterHealth)}%` : "–ù–µ—Ç";
            fireConditionElement.textContent = gameState.fire ? 
                `${Math.round(gameState.fireDuration)} —á` : "–ù–µ—Ç";
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤—ã–∂–∏–≤–∞–Ω–∏—è
            healthValueElement.textContent = `${Math.round(gameState.health)}%`;
            healthBarElement.style.width = `${gameState.health}%`;
            
            hungerValueElement.textContent = `${Math.round(gameState.hunger)}%`;
            hungerBarElement.style.width = `${gameState.hunger}%`;
            
            thirstValueElement.textContent = `${Math.round(gameState.thirst)}%`;
            thirstBarElement.style.width = `${gameState.thirst}%`;
            
            energyValueElement.textContent = `${Math.round(gameState.energy)}%`;
            energyBarElement.style.width = `${gameState.energy}%`;
            
            warmthValueElement.textContent = `${Math.round(gameState.warmth)}%`;
            warmthBarElement.style.width = `${gameState.warmth}%`;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
            woodCountElement.textContent = gameState.inventory.wood;
            foodCountElement.textContent = gameState.inventory.food;
            waterCountElement.textContent = gameState.inventory.water;
            toolsCountElement.textContent = gameState.inventory.tools;
            materialsCountElement.textContent = gameState.inventory.materials;
            medicineCountElement.textContent = gameState.inventory.medicine;
            fishCountElement.textContent = gameState.inventory.fish;
            trapCountElement.textContent = gameState.inventory.traps;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è
            buildShelterBtn.disabled = gameState.inventory.wood < 10 || gameState.shelter;
            makeFireBtn.disabled = gameState.inventory.wood < 3 || gameState.fire;
            craftToolsBtn.disabled = gameState.inventory.materials < 5;
            repairBtn.disabled = !gameState.shelter || gameState.shelterHealth >= 100;
            addFirewoodBtn.disabled = !gameState.fire || gameState.inventory.wood < 2;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
            eatFoodBtn.disabled = gameState.inventory.food < 1;
            drinkWaterBtn.disabled = gameState.inventory.water < 1;
            useMedicineBtn.disabled = gameState.inventory.medicine < 1;
        }
        
        function formatTime(minutes) {
            const hours = Math.floor(minutes / 60);
            const mins = minutes % 60;
            return `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}`;
        }
        
        function getWeatherText(weather) {
            const weatherTexts = {
                'clear': '–Ø—Å–Ω–æ',
                'cloudy': '–û–±–ª–∞—á–Ω–æ',
                'rain': '–î–æ–∂–¥—å',
                'storm': '–®—Ç–æ—Ä–º',
                'fog': '–¢—É–º–∞–Ω'
            };
            return weatherTexts[weather] || '–Ø—Å–Ω–æ';
        }
        
        function addEvent(message) {
            const time = formatTime(gameState.time);
            const eventElement = document.createElement('div');
            eventElement.className = 'event';
            eventElement.innerHTML = `<span class="event-time">–î–µ–Ω—å ${gameState.day}, ${time}</span><span>${message}</span>`;
            eventsLogElement.prepend(eventElement);
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –≤ –∂—É—Ä–Ω–∞–ª–µ
            if (eventsLogElement.children.length > 20) {
                eventsLogElement.removeChild(eventsLogElement.lastChild);
            }
        }
        
        function advanceTime(minutes) {
            gameState.time += minutes;
            
            // –£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ—Å—Ç—Ä–∞
            if (gameState.fire) {
                gameState.fireDuration -= minutes / 60;
                if (gameState.fireDuration <= 0) {
                    gameState.fire = false;
                    addEvent("–ö–æ—Å—Ç–µ—Ä –ø–æ–≥–∞—Å.");
                }
            }
            
            // –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É–∫—Ä—ã—Ç–∏—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
            if (gameState.shelter) {
                // –£–∫—Ä—ã—Ç–∏–µ –∏–∑–Ω–∞—à–∏–≤–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ –≤ –ø–ª–æ—Ö—É—é –ø–æ–≥–æ–¥—É
                let wearRate = 0.1;
                if (gameState.weather === 'storm') wearRate = 0.3;
                else if (gameState.weather === 'rain') wearRate = 0.2;
                
                gameState.shelterHealth = Math.max(0, gameState.shelterHealth - wearRate * (minutes / 60));
                if (gameState.shelterHealth <= 0) {
                    gameState.shelter = false;
                    addEvent("–í–∞—à–µ —É–∫—Ä—ã—Ç–∏–µ —Ä–∞–∑—Ä—É—à–∏–ª–æ—Å—å!");
                }
            }
            
            // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å
            if (gameState.time >= 1440) { // 24 —á–∞—Å–∞ * 60 –º–∏–Ω—É—Ç
                gameState.time -= 1440;
                gameState.day++;
                gameState.daysToRescue--;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ø–∞—Å–µ–Ω–∏–µ
                if (gameState.daysToRescue <= 0) {
                    rescuePlayer();
                    return;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–≥–æ–¥—É –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
                updateWeather();
                
                // –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ —Ä–∞–∑ –≤ 3-5 –¥–Ω–µ–π
                if (Math.random() < 0.3) {
                    const randomEvent = gameState.specialEvents[Math.floor(Math.random() * gameState.specialEvents.length)];
                    addEvent(`–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ: ${randomEvent}`);
                }
            }
            
            // –£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
            gameState.hunger = Math.max(0, gameState.hunger - (minutes / 60 * 0.8));
            gameState.thirst = Math.max(0, gameState.thirst - (minutes / 60 * 1.2));
            gameState.energy = Math.min(100, gameState.energy + (minutes / 60 * 0.5));
            
            // –í–ª–∏—è–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–∞ —Ç–µ–ø–ª–æ
            if (gameState.temperature < 10) {
                gameState.warmth = Math.max(0, gameState.warmth - (minutes / 60 * (gameState.shelter ? 1 : 2)));
            } else if (gameState.temperature < 5) {
                gameState.warmth = Math.max(0, gameState.warmth - (minutes / 60 * (gameState.shelter ? 2 : 4)));
            } else {
                gameState.warmth = Math.min(100, gameState.warmth + (minutes / 60 * 0.5));
            }
            
            // –í–ª–∏—è–Ω–∏–µ –∫–æ—Å—Ç—Ä–∞ –Ω–∞ —Ç–µ–ø–ª–æ
            if (gameState.fire) {
                gameState.warmth = Math.min(100, gameState.warmth + (minutes / 60 * 3));
            }
            
            // –í–ª–∏—è–Ω–∏–µ –Ω–∏–∑–∫–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ –∑–¥–æ—Ä–æ–≤—å–µ
            if (gameState.hunger <= 0) {
                gameState.health = Math.max(0, gameState.health - (minutes / 60 * 0.5));
                if (Math.random() < 0.1) addEvent("–í—ã –≥–æ–ª–æ–¥–∞–µ—Ç–µ. –ù–∞–π–¥–∏—Ç–µ –µ–¥—É.");
            }
            
            if (gameState.thirst <= 0) {
                gameState.health = Math.max(0, gameState.health - (minutes / 60 * 1));
                if (Math.random() < 0.1) addEvent("–í—ã –æ–±–µ–∑–≤–æ–∂–µ–Ω—ã. –ù–∞–π–¥–∏—Ç–µ –≤–æ–¥—É.");
            }
            
            if (gameState.warmth <= 0) {
                gameState.health = Math.max(0, gameState.health - (minutes / 60 * 2));
                if (Math.random() < 0.1) addEvent("–í—ã –∑–∞–º–µ—Ä–∑–∞–µ—Ç–µ. –ù–∞–π–¥–∏—Ç–µ —Å–ø–æ—Å–æ–± —Å–æ–≥—Ä–µ—Ç—å—Å—è.");
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
            if (gameState.health <= 0) {
                endGame("–í—ã –Ω–µ —Å–º–æ–≥–ª–∏ –≤—ã–∂–∏—Ç—å –≤ —Å—É—Ä–æ–≤—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö.");
            }
        }
        
        function updateWeather() {
            const weatherTypes = ['clear', 'cloudy', 'rain', 'storm', 'fog'];
            const weights = [30, 25, 20, 10, 15]; // –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤ %
            
            let random = Math.random() * 100;
            let cumulativeWeight = 0;
            
            for (let i = 0; i < weatherTypes.length; i++) {
                cumulativeWeight += weights[i];
                if (random <= cumulativeWeight) {
                    gameState.weather = weatherTypes[i];
                    break;
                }
            }
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–≥–æ–¥—ã
            switch (gameState.weather) {
                case 'clear':
                    gameState.temperature = 15 + Math.floor(Math.random() * 10);
                    break;
                case 'cloudy':
                    gameState.temperature = 10 + Math.floor(Math.random() * 8);
                    break;
                case 'rain':
                    gameState.temperature = 5 + Math.floor(Math.random() * 8);
                    break;
                case 'storm':
                    gameState.temperature = 3 + Math.floor(Math.random() * 5);
                    break;
                case 'fog':
                    gameState.temperature = 8 + Math.floor(Math.random() * 6);
                    break;
            }
            
            addEvent(`–ü–æ–≥–æ–¥–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å: ${getWeatherText(gameState.weather)}. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${gameState.temperature}¬∞C.`);
        }
        
        function endGame(reason) {
            gameState.running = false;
            gameOverReasonElement.textContent = reason;
            survivalDaysElement.textContent = gameState.day;
            gameOverElement.style.display = 'flex';
        }
        
        function rescuePlayer() {
            gameState.running = false;
            rescueScreenElement.style.display = 'flex';
        }
        
        function restartGame() {
            gameState.day = 1;
            gameState.time = 480;
            gameState.running = true;
            gameState.daysToRescue = 100;
            
            gameState.health = 100;
            gameState.hunger = 100;
            gameState.thirst = 100;
            gameState.energy = 100;
            gameState.warmth = 100;
            
            gameState.inventory = {
                wood: 5,
                food: 3,
                water: 2,
                tools: 0,
                materials: 2,
                medicine: 0,
                fish: 0,
                traps: 0
            };
            
            gameState.shelter = false;
            gameState.shelterHealth = 0;
            gameState.fire = false;
            gameState.fireDuration = 0;
            
            gameState.temperature = 15;
            gameState.weather = 'clear';
            
            eventsLogElement.innerHTML = '<div class="event"><span class="event-time">–î–µ–Ω—å 1, 08:00</span><span>–í—ã –ø–µ—Ä–µ–∂–∏–ª–∏ –∫—Ä—É—à–µ–Ω–∏–µ —Å–∞–º–æ–ª–µ—Ç–∞ –≤ –Ω–µ–∑–Ω–∞–∫–æ–º–æ–º –ª–µ—Å—É. –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –≤—ã–∂–∏–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è 100 –¥–Ω–µ–π –¥–æ —Å–ø–∞—Å–∞—Ç–µ–ª–µ–π.</span></div>';
            
            gameOverElement.style.display = 'none';
            rescueScreenElement.style.display = 'none';
            
            updateUI();
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
        function consumeFood() {
            if (gameState.inventory.food < 1) return;
            
            gameState.inventory.food--;
            gameState.hunger = Math.min(100, gameState.hunger + 40);
            gameState.health = Math.min(100, gameState.health + 5);
            
            addEvent("–í—ã –ø–æ–µ–ª–∏. –°—ã—Ç–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.");
            updateUI();
        }
        
        function consumeWater() {
            if (gameState.inventory.water < 1) return;
            
            gameState.inventory.water--;
            gameState.thirst = Math.min(100, gameState.thirst + 60);
            gameState.health = Math.min(100, gameState.health + 3);
            
            addEvent("–í—ã –ø–æ–ø–∏–ª–∏ –≤–æ–¥—ã. –ñ–∞–∂–¥–∞ —É—Ç–æ–ª–µ–Ω–∞.");
            updateUI();
        }
        
        function consumeMedicine() {
            if (gameState.inventory.medicine < 1) return;
            
            gameState.inventory.medicine--;
            gameState.health = Math.min(100, gameState.health + 30);
            
            addEvent("–í—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –ª–µ–∫–∞—Ä—Å—Ç–≤–æ. –ó–¥–æ—Ä–æ–≤—å–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.");
            updateUI();
        }
        
        function addFirewoodToFire() {
            if (gameState.inventory.wood < 2 || !gameState.fire) return;
            
            gameState.inventory.wood -= 2;
            gameState.fireDuration += 4;
            
            addEvent("–í—ã –¥–æ–±–∞–≤–∏–ª–∏ –¥—Ä–æ–≤ –≤ –∫–æ—Å—Ç–µ—Ä. –û–Ω –±—É–¥–µ—Ç –≥–æ—Ä–µ—Ç—å –¥–æ–ª—å—à–µ.");
            updateUI();
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
        gatherWoodBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            const woodGathered = 2 + Math.floor(Math.random() * 4) + (gameState.inventory.tools > 0 ? 2 : 0);
            gameState.inventory.wood += woodGathered;
            gameState.energy -= 10;
            
            addEvent(`–í—ã —Å–æ–±—Ä–∞–ª–∏ ${woodGathered} –µ–¥–∏–Ω–∏—Ü –¥—Ä–æ–≤.${gameState.inventory.tools > 0 ? ' –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–º–æ–≥–ª–∏ —Å–æ–±—Ä–∞—Ç—å –±–æ–ª—å—à–µ.' : ''}`);
            advanceTime(60);
            updateUI();
        });
        
        huntBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            const success = Math.random() > 0.4;
            
            if (success) {
                const foodGathered = 1 + Math.floor(Math.random() * 3) + (gameState.inventory.tools > 0 ? 1 : 0);
                gameState.inventory.food += foodGathered;
                addEvent(`–û—Ö–æ—Ç–∞ —É–¥–∞–ª–∞—Å—å! –í—ã –¥–æ–±—ã–ª–∏ ${foodGathered} –µ–¥–∏–Ω–∏—Ü –µ–¥—ã.`);
            } else {
                const injury = Math.random() > 0.7;
                if (injury) {
                    gameState.health -= 15;
                    addEvent("–û—Ö–æ—Ç–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å. –í–∞—Å —Ä–∞–Ω–∏–ª –¥–∏–∫–∏–π –∑–≤–µ—Ä—å!");
                } else {
                    addEvent("–û—Ö–æ—Ç–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å. –í–∞–º –Ω–µ –ø–æ–≤–µ–∑–ª–æ —Å–µ–≥–æ–¥–Ω—è.");
                }
            }
            
            gameState.energy -= 15;
            advanceTime(120);
            updateUI();
        });
        
        exploreBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            const foundItems = [];
            
            if (Math.random() > 0.6) {
                const materialsFound = 1 + Math.floor(Math.random() * 3);
                gameState.inventory.materials += materialsFound;
                foundItems.push(`${materialsFound} —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤`);
            }
            
            if (Math.random() > 0.7) {
                gameState.inventory.medicine += 1;
                foundItems.push("–ª–µ–∫–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏—è");
            }
            
            if (Math.random() > 0.5) {
                const waterFound = 1 + Math.floor(Math.random() * 2);
                gameState.inventory.water += waterFound;
                foundItems.push(`${waterFound} –µ–¥–∏–Ω–∏—Ü –≤–æ–¥—ã`);
            }
            
            // –®–∞–Ω—Å –Ω–∞–π—Ç–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç
            if (Math.random() > 0.85) {
                const specialItems = ["–∫–∞—Ä—Ç—É –º–µ—Å—Ç–Ω–æ—Å—Ç–∏", "—Ñ–æ–Ω–∞—Ä–∏–∫", "—Å–ø–∞–ª—å–Ω—ã–π –º–µ—à–æ–∫", "—Ç–æ–ø–æ—Ä"];
                const specialItem = specialItems[Math.floor(Math.random() * specialItems.length)];
                foundItems.push(specialItem);
                addEvent(`–ò—Å—Å–ª–µ–¥—É—è –º–µ—Å—Ç–Ω–æ—Å—Ç—å, –≤—ã –Ω–∞—à–ª–∏ –ø–æ–ª–µ–∑–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç: ${specialItem}!`);
            }
            
            if (foundItems.length > 0) {
                addEvent(`–ò—Å—Å–ª–µ–¥—É—è –º–µ—Å—Ç–Ω–æ—Å—Ç—å, –≤—ã –Ω–∞—à–ª–∏: ${foundItems.join(', ')}.`);
            } else {
                addEvent("–ò—Å—Å–ª–µ–¥—É—è –º–µ—Å—Ç–Ω–æ—Å—Ç—å, –≤—ã –Ω–µ –Ω–∞—à–ª–∏ –Ω–∏—á–µ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ.");
            }
            
            gameState.energy -= 8;
            advanceTime(90);
            updateUI();
        });
        
        restBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            const energyRecovered = 30 + Math.floor(Math.random() * 30);
            gameState.energy = Math.min(100, gameState.energy + energyRecovered);
            
            // –û—Ç–¥—ã—Ö –≤ —É–∫—Ä—ã—Ç–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–æ–ª—å—à–µ
            if (gameState.shelter) {
                gameState.health = Math.min(100, gameState.health + 5);
                gameState.warmth = Math.min(100, gameState.warmth + 20);
                addEvent(`–í—ã –æ—Ç–¥–æ—Ö–Ω—É–ª–∏ –≤ —É–∫—Ä—ã—Ç–∏–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ ${energyRecovered}% —ç–Ω–µ—Ä–≥–∏–∏.`);
            } else {
                addEvent(`–í—ã –æ—Ç–¥–æ—Ö–Ω—É–ª–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ ${energyRecovered}% —ç–Ω–µ—Ä–≥–∏–∏.`);
            }
            
            advanceTime(180);
            updateUI();
        });
        
        buildShelterBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            if (gameState.inventory.wood >= 10 && !gameState.shelter) {
                gameState.inventory.wood -= 10;
                gameState.shelter = true;
                gameState.shelterHealth = 100;
                
                addEvent("–í—ã –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ —É–∫—Ä—ã—Ç–∏–µ. –¢–µ–ø–µ—Ä—å –≤—ã –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –Ω–µ–ø–æ–≥–æ–¥—ã.");
            }
            
            gameState.energy -= 20;
            advanceTime(120);
            updateUI();
        });
        
        makeFireBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            if (gameState.inventory.wood >= 3 && !gameState.fire) {
                gameState.inventory.wood -= 3;
                gameState.fire = true;
                gameState.fireDuration = 3;
                
                addEvent("–í—ã —Ä–∞–∑–æ–∂–≥–ª–∏ –∫–æ—Å—Ç–µ—Ä. –°—Ç–∞–ª–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–ø–ª–µ–µ.");
            }
            
            gameState.energy -= 5;
            advanceTime(30);
            updateUI();
        });
        
        findWaterBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            const waterFound = 1 + Math.floor(Math.random() * 3);
            gameState.inventory.water += waterFound;
            
            addEvent(`–í—ã –Ω–∞—à–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–æ–¥—ã –∏ —Å–æ–±—Ä–∞–ª–∏ ${waterFound} –µ–¥–∏–Ω–∏—Ü.`);
            gameState.energy -= 8;
            advanceTime(60);
            updateUI();
        });
        
        craftToolsBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            if (gameState.inventory.materials >= 5) {
                gameState.inventory.materials -= 5;
                gameState.inventory.tools += 1;
                
                addEvent("–í—ã —Å–æ–∑–¥–∞–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —Å–æ–±–∏—Ä–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã.");
            }
            
            gameState.energy -= 15;
            advanceTime(90);
            updateUI();
        });
        
        fishBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            const success = Math.random() > 0.5;
            
            if (success) {
                const fishCaught = 1 + Math.floor(Math.random() * 2);
                gameState.inventory.fish += fishCaught;
                addEvent(`–†—ã–±–∞–ª–∫–∞ —É–¥–∞–ª–∞—Å—å! –í—ã –ø–æ–π–º–∞–ª–∏ ${fishCaught} —Ä—ã–±—ã.`);
            } else {
                addEvent("–†—ã–±–∞–ª–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å. –†—ã–±–∞ —Å–µ–≥–æ–¥–Ω—è –Ω–µ –∫–ª—é–µ—Ç.");
            }
            
            gameState.energy -= 10;
            advanceTime(90);
            updateUI();
        });
        
        forageBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            const foodFound = 1 + Math.floor(Math.random() * 2);
            gameState.inventory.food += foodFound;
            
            // –®–∞–Ω—Å –æ—Ç—Ä–∞–≤–∏—Ç—å—Å—è
            if (Math.random() > 0.8) {
                gameState.health -= 20;
                addEvent(`–í—ã —Å–æ–±—Ä–∞–ª–∏ ${foodFound} –µ–¥–∏–Ω–∏—Ü –µ–¥—ã, –Ω–æ —Å—ä–µ–ª–∏ —è–¥–æ–≤–∏—Ç—ã–µ —è–≥–æ–¥—ã!`);
            } else {
                addEvent(`–í—ã —Å–æ–±—Ä–∞–ª–∏ ${foodFound} –µ–¥–∏–Ω–∏—Ü –µ–¥—ã (—è–≥–æ–¥—ã –∏ –≥—Ä–∏–±—ã).`);
            }
            
            gameState.energy -= 5;
            advanceTime(60);
            updateUI();
        });
        
        trapBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            if (gameState.inventory.materials >= 3) {
                gameState.inventory.materials -= 3;
                gameState.inventory.traps += 1;
                
                addEvent("–í—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –ª–æ–≤—É—à–∫—É –¥–ª—è –º–µ–ª–∫–æ–π –¥–∏—á–∏.");
            }
            
            gameState.energy -= 10;
            advanceTime(60);
            updateUI();
        });
        
        repairBtn.addEventListener('click', () => {
            if (!gameState.running) return;
            
            if (gameState.shelter && gameState.inventory.materials >= 2) {
                gameState.inventory.materials -= 2;
                gameState.shelterHealth = Math.min(100, gameState.shelterHealth + 30);
                
                addEvent("–í—ã –æ—Ç—Ä–µ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∏ —É–∫—Ä—ã—Ç–∏–µ.");
            }
            
            gameState.energy -= 10;
            advanceTime(60);
            updateUI();
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
        eatFoodBtn.addEventListener('click', consumeFood);
        drinkWaterBtn.addEventListener('click', consumeWater);
        useMedicineBtn.addEventListener('click', consumeMedicine);
        addFirewoodBtn.addEventListener('click', addFirewoodToFire);
        
        restartBtn.addEventListener('click', restartGame);
        newGameBtn.addEventListener('click', restartGame);
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≤—É—à–µ–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
        function checkTraps() {
            if (gameState.inventory.traps > 0 && Math.random() > 0.5) {
                const caught = Math.floor(Math.random() * gameState.inventory.traps) + 1;
                gameState.inventory.food += caught;
                addEvent(`–í–∞—à–∏ –ª–æ–≤—É—à–∫–∏ —Å—Ä–∞–±–æ—Ç–∞–ª–∏! –í—ã –ø–æ–ª—É—á–∏–ª–∏ ${caught} –µ–¥–∏–Ω–∏—Ü –µ–¥—ã.`);
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        updateUI();
        
        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
        setInterval(() => {
            if (gameState.running) {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≤—É—à–µ–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ –ø–æ–ª–¥–µ–Ω—å
                if (Math.abs(gameState.time - 720) < 10) { // 12:00
                    checkTraps();
                }
            }
        }, 1000);
    </script>
</body>
</html>
